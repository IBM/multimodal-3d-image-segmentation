[main]
output_dir = '~/Experiments/BraTS2023/train-0.6_valid-0.1_test-0.3/hnoseg_xs_f24_3x8_m-10-14-14/120x120x78'
is_train = True
is_test = True
is_statistics = True
visible_devices = '0'  # Which GPU is used

[input_lists]
data_dir = '~/Data/BraTS2023/120x120x78/'  # Where the images are stored
list_dir = '~/Experiments/BraTS2023/train-0.6_valid-0.1_test-0.3/inputs'  # Folder that contains the image lists
data_lists_train_paths = [
	${list_dir}'/t1c_train-0.6.txt',
	${list_dir}'/t1n_train-0.6.txt',
	${list_dir}'/t2f_train-0.6.txt',
	${list_dir}'/t2w_train-0.6.txt',
	${list_dir}'/seg_train-0.6.txt',
	]
data_lists_valid_paths = [
	${list_dir}'/t1c_valid-0.1.txt',
	${list_dir}'/t1n_valid-0.1.txt',
	${list_dir}'/t2f_valid-0.1.txt',
	${list_dir}'/t2w_valid-0.1.txt',
	${list_dir}'/seg_valid-0.1.txt',
	]
data_lists_test_paths = [
	${list_dir}'/t1c_test-0.3.txt',
	${list_dir}'/t1n_test-0.3.txt',
	${list_dir}'/t2f_test-0.3.txt',
	${list_dir}'/t2w_test-0.3.txt',
	${list_dir}'/seg_test-0.3.txt',
	]

[input_args]
idx_x_modalities = [0, 1, 2, 3]  # Indexes to x modalities in the data lists
idx_y_modalities = [4]  # Indexes to y modalities in the data lists
batch_size = 1
num_workers = 4  # Must be >= 1 to use multiprocessing
use_data_normalization = True

[augmentation]
rotation_range = [30, 0, 0]  # Along the depth, height, width axis
shift_range = [0.2, 0.2, 0.2]
zoom_range = [0.8, 1.2]
augmentation_probability = 0.8

[model]
model_name = 'HNOSegXS'
out_channels = 4
filters = 24
num_transform_blocks = [3, 3, 3, 3, 3, 3, 3, 3]
num_modes = (10, 14, 14)  # (d, h, w)

[optimizer]
optimizer_name = 'Adamax'
lr = 5e-3

[scheduler]
scheduler_name = 'CosineAnnealingWarmRestarts'
eta_min = 1e-3

[loss]
loss_name = 'PCCLoss'

[train]
num_epochs = 300
selection_epoch_portion = 0.5
is_plot_model = True  # If you cannot install graphviz, change it to False
is_print = True

[test]
output_folder = 'test'  # A subfolder under `output_dir`
output_origin = [0, -239, 0]  # (x, y, z)

[statistics]
use_surface_dice = False
use_hd95 = False
region_names = ['background', 'whole tumor', 'tumor core', 'enhancing tumor']
region_labels = [
	[0],
	[1, 2, 3],
	[1, 3],
	[3],
	]
